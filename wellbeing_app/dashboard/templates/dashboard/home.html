{% extends "dashboard/base.html" %}

{% block dashboard_content %}
<div class="dashboard-home">
    <h1>Dashboard Overview</h1>
    
    {% if stats %}
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Total Users</h3>
            <p>{{ stats.total_users }}</p>
        </div>
        <div class="stat-card">
            <h3>Active Users</h3>
            <p>{{ stats.active_users }}</p>
        </div>
        <div class="stat-card">
            <h3>Mood Entries</h3>
            <p>{{ stats.mood_entries }}</p>
        </div>
        <div class="stat-card">
            <h3>Journal Entries</h3>
            <p>{{ stats.journal_entries }}</p>
        </div>
    </div>
    {% endif %}

    <div class="content-grid">
        <div class="dashboard-card">
            <h2>Your Recent Moods</h2>
            <div class="mood-chart">
                <!-- Chart will go here -->
            </div>
            <div class="mood-list">
                {% for mood in recent_moods %}
                <div class="mood-item">
                    <span class="mood-icon">{{ mood.mood_icon }}</span>
                    <span>{{ mood.get_mood_display }}</span>
                    <span class="mood-date">{{ mood.formatted_date }}</span>
                </div>
                {% endfor %}
            </div>
            <a href="{% url 'dashboard:mood_add' %}" class="btn btn-primary">
                Add Mood Entry
            </a>
        </div>

        <div class="dashboard-card">
            <h2>Recent Journals</h2>
            {% for journal in recent_journals %}
            <div class="journal-item">
                <h3>{{ journal.title }}</h3>
                <p>{{ journal.preview_content }}</p>
                <small>{{ journal.formatted_date }}</small>
            </div>
            {% endfor %}
            <a href="{% url 'dashboard:journal_add' %}" class="btn btn-primary">
                New Journal Entry
            </a>
        </div>

        <div class="dashboard-card">
            <h2>Today's Affirmation</h2>
            {% if todays_affirmation %}
            <div class="affirmation-card">
                <p class="affirmation-text">
                    "{{ todays_affirmation.text }}"
                </p>
                <div class="affirmation-meta">
                    <span class="category">{{ todays_affirmation.get_category_display }}</span>
                    <span class="language">{{ todays_affirmation.language_flag }} {{ todays_affirmation.get_language_display }}</span>
                </div>
            </div>
            {% endif %}
            <a href="{% url 'dashboard:affirmation_list' %}" class="btn btn-primary">
                View All Affirmations
            </a>
        </div>
    </div>
</div>
{% endblock %}